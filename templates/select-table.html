{% extends 'layout.html' %}

{% block title %}Test-Correct / vragen{% endblock %}

{% block content %}

<h2>Dashboard-> Onderzoek</h2>
<br>
<form method="POST" action="/display-table">
    <label for="table">Select a table:</label>
    <select name="table" id="table">
        {% for table in tables %}
        <option value="{{ table[0] }}">{{ table[0] }}</option>
        {% endfor %}
    </select>
    <input type="submit" value="Submit" class="">
</form>

{% if table %}
<div class="row">
    <div class="col-md-12">
        <table id="example" class="table table-striped table-bordered" style="width:100%">
            <thead>
                <tr>
                    {% for column in columns %}
                    <th>{{ column[1] }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for row in rows %}
                <tr>
                    {% for value in row %}
                    <td>{{ value }}</td>
                    {% endfor %}
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
<a href="/download-csv/{{ table }}" class="btn btn-success">Download CSV</a>
{% endif %}

{% endblock %}